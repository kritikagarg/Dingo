<!DOCTYPE html>
<html lang="en">
    <head>
	<title>Test Dingo</title>
    <script type="text/javascript" src="./dingo_try1.js"></script>    
	</head>
	<body>

        <h1>Test</h1>
        <p id="adt"> </p>
        <p>The current ISO time is: <span id="dt"></span></p>
        <div id="display"></div>

        <!-- for chaff -->
        <p id="inframe1"> </p>
        <p id="inframe2"> </p>
        <p id="inframe3"> </p>


        <script async>
            (async function() {
                
                const dingo = Dingo();
                // await dingo._test();

                dingo.setUrl("https://kritikagarg.github.io/demo_test/simple/img1.jpg");
                //console.log(.getUrl())
                const img_url = await dingo.getURL();
                console.log(img_url);
                document.getElementById("display").innerHTML = '<img width="200" height="250" src="' +img_url.url+'"/>';
                console.log(await dingo.check_in_archive());
                //for cloaking
                //dingo.cloak();
                //for datetime
                var archivetime_all =  "This page was archived on: " + dingo.get_mementodatetime();
                document.getElementById("adt").innerHTML = archivetime_all;
                dingo.get_datetime().then(value => {
                console.log(value);
   				document.getElementById("dt").innerHTML = new Date( value * 1000).toISOString(); 
                //for chaff -->
                const iframes = dingo.chaff();
                document.getElementById("inframe1").innerHTML = iframes[0];
                document.getElementById("inframe2").innerHTML = iframes[1];
                document.getElementById("inframe3").innerHTML = iframes[2];  

                });

            })();

        </script>
    </body>
</html>